<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Koala Mevsimi</title>

<style>
body{
margin:0;
overflow:hidden;
background:linear-gradient(#020111,#000);
color:white;
font-family:Arial;
text-align:center;
}

h1{margin-top:70px;font-size:40px}
.alt{opacity:.8}

.star{
position:absolute;
font-size:18px;
cursor:pointer;
color:#fff;
animation:float 6s linear infinite;
}

.visitor{color:#b266ff}

@keyframes float{
from{transform:translateY(100vh)}
to{transform:translateY(-10vh)}
}

.mandalina{
position:fixed;
bottom:30px;
left:50%;
transform:translateX(-50%);
font-size:55px;
cursor:pointer;
}
</style>
</head>

<body>

<h1>Koala Mevsimi</h1>
<div class="alt">Sen benim en g√ºzel mevsimimsin</div>

<input id="visitorText" placeholder="Bir s√∂z bƒ±rak...">
<button onclick="addVisitor()">G√∂nder</button>

<div class="mandalina" onclick="heart()">üçä</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc, onSnapshot } 
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyAu4Plky_LdaPsPPwtg2y5FEplgDqnUMhA",
authDomain: "koala-mevsimi.firebaseapp.com",
projectId: "koala-mevsimi",
storageBucket: "koala-mevsimi.firebasestorage.app",
messagingSenderId: "960846201677",
appId: "1:960846201677:web:0f4126d042754a29ab6d04"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

function createStar(text,visitor=false){
const s=document.createElement("div");
s.className="star"+(visitor?" visitor":"");
s.innerText="‚òÖ";
s.style.left=Math.random()*100+"vw";
s.onclick=()=>alert(text);
document.body.appendChild(s);
}

const sozler=[
"Seni sevmek g√∂ky√ºz√ºne bakmak gibi",
"Kalbim sende huzur buluyor",
"Bir g√ºl√º≈ü√ºn yetiyor"
];

sozler.forEach(s=>createStar(s));

onSnapshot(collection(db,"sozler"),snap=>{
document.querySelectorAll(".visitor").forEach(e=>e.remove());
snap.forEach(d=>createStar(d.data().text,true));
});

window.addVisitor=async ()=>{
const val=document.getElementById("visitorText").value;
if(!val)return;
await addDoc(collection(db,"sozler"),{text:val});
document.getElementById("visitorText").value="";
}

window.heart=()=>{
const h=document.createElement("div");
h.innerText="‚ù§Ô∏è";
h.style.position="fixed";
h.style.left="50%";
h.style.bottom="90px";
h.style.fontSize="30px";
document.body.appendChild(h);
setTimeout(()=>h.remove(),1000);
}

</script>
</body>
</html>

