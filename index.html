<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Koala Mevsimi</title>

<style>
body{
margin:0;
background:linear-gradient(#020111,#000);
color:white;
font-family:Arial;
text-align:center;
height:100vh;
overflow:hidden;
}
.panel{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
}
.star{
position:absolute;
cursor:pointer;
font-size:18px;
}
.quote{
background:rgba(0,0,0,.7);
padding:8px 12px;
border-radius:10px;
margin-top:5px;
font-size:14px;
}
</style>
</head>
<body>

<h2>Koala Mevsimi ⭐</h2>

<div class="panel">
<input id="visitorText" placeholder="Bir söz bırak...">
<button onclick="addVisitor()">Gönder</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc, onSnapshot, query, orderBy }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyAu4Plky_LdaPsPPwtg2y5FEplgDqnUMhA",
authDomain: "koala-mevsimi.firebaseapp.com",
projectId: "koala-mevsimi",
storageBucket: "koala-mevsimi.firebasestorage.app",
messagingSenderId: "960846201677",
appId: "1:960846201677:web:0f4126d042754a29ab6d04"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

function createStar(text,x,y){
const star=document.createElement("div");
star.className="star";
star.style.left=x+"vw";
star.style.top=y+"vh";
star.innerHTML="⭐<div class='quote'>"+text+"</div>";
document.body.appendChild(star);
}

const q=query(collection(db,"quotes"),orderBy("time"));
onSnapshot(q,snap=>{
document.querySelectorAll(".star").forEach(e=>e.remove());
snap.forEach(doc=>{
const d=doc.data();
createStar(d.text,d.x,d.y);
});
});

window.addVisitor = async function(){
const val=document.getElementById("visitorText").value;
if(!val) return;

await addDoc(collection(db,"quotes"),{
text:val,
x:Math.random()*90,
y:Math.random()*80,
time:Date.now()
});

document.getElementById("visitorText").value="";
}
</script>

</body>
</html>
